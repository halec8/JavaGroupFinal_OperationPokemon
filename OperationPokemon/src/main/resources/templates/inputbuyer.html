<!-- Made By Andrew Dowd, adowd1, 11/16/21-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Buyer Input</title>
</head>
<script type="text/javascript">

function checkForm(form)
{
	if(form.name.value == ""){
		alert("Error: Name input is empty!");
		form.name.focus();
		return false;
	}
	if(form.street.value == ""){
		alert("Error: Name input is empty!");
		form.street.focus();
		return false;
	}if(form.city.value == ""){
		alert("Error: City input is empty!");
		form.city.focus();
		return false;
	}if(form.state.value == ""){
		alert("Error: State input is empty!");
		form.state.focus();
		return false;
	}
	
	var re = /^[\w ]+$/;
	

	if(!re.test(form.name.value)){
		alert("Error: Name input contains invalid characters!");
		form.name.focus();
		return false;
	}
	
	if(!re.test(form.street.value)){
		alert("Error: Street input contains invalid characters!");
		form.name.focus();
		return false;
	}
	if(!re.test(form.city.value)){
		alert("Error: City input contains invalid characters!");
		form.name.focus();
		return false;
	}
	if(!re.test(form.state.value)){
		alert("Error: State input contains invalid characters!");
		form.name.focus();
		return false;
	}
	return true;
}

</script>
<body>
<form name="form" th:object="${newBuyer}" th:action= "@{/buyerController/update/{id}(id=${newBuyer.id})}" method=POST action="form-handler" onsubmit="return checkForm(this);">
<p>Personal Information:</p>
Name: <input type="text" name="name" size="20" th:field="*{name}"><br />
<p>Shipping Address:</p>
Street: <input type="text" name="street" size="20" th:field="*{street}"><br />
City: <input type="text" name="city" size="20" th:field="*{city}"><br /> 
State: <input type="text" name="state" size="20" th:field="*{state}"><br />

<input name= "submit" type="submit" value="submit"/>
</form>
<a href="viewAllBuyers">View all Buyers</a>
</body>
</html>